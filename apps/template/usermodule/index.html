{% extends 'usermodule/layout/base.html' %}

{% block title %}مِدَاد{% endblock %}

{% block content %}
    <h1>مولد المخطوطات العربية</h1>
    <p>أدخل النص الذي تريد رؤيته كمخطوطة</p>

    <form id="myForm" action="{% url 'generate_text' %}" method="POST">
        {% csrf_token %}
        
        <!-- Input container -->
        <div class="input-container" id="inputContainer">
            <input 
                type="text" 
                id="user_input" 
                name="user_input" 
                required 
                placeholder="اكتب النص..."
            >
            <i 
                class="fas fa-random" 
                onclick="generateRandomText()" 
                style="cursor: pointer;"
            ></i>
        </div>

        <!-- Button and error share the same container.
             The button is hidden by default. -->
        <div id="button-or-error" style="margin-top: 20px; min-height: 50px;">
            <button type="submit" class="btn" id="submit-btn" style="display: none;">
                <span class="btn-text">إنشاء مخطوطة</span>
                <span class="spinner" id="spinner"></span>
            </button>
            <span id="error-msg" class="error-message" style="display: none;"></span>
        </div>
    </form>
{% endblock %}